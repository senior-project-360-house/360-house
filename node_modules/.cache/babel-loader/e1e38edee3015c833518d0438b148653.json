{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\src\\\\components\\\\SignUp\\\\SignUpForm.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { withFirebase } from \"../../server/Firebase\";\nimport FileUploader from \"react-firebase-file-uploader\";\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\nimport firebase from \"firebase\";\nimport * as ROUTES from \"../../constants/routes\";\nimport * as ROLES from \"../../constants/roles\";\nimport \"./signup.css\";\nimport Image from \"react-bootstrap/Image\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport ImageUploader from 'react-images-upload';\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\nvar authUser = JSON.parse(localStorage.getItem(\"authUser\"));\nvar ERROR_CODE_ACCOUNT_EXISTS = \"auth/email-already-in-use\";\nvar ERROR_MSG_ACCOUNT_EXISTS = \"\\nAn account with this E-Mail address already exists.\\nTry to login with this account instead. If you think the\\naccount is already used from one of the social logins, try\\nto sign-in with one of them. Afterward, associate your accounts\\non your personal account page.\\n\"; // Use to reset sign up form\n\nvar INITIAL_STATE = {\n  weburl: \"\",\n  aboutme: \"\",\n  payment: \"\",\n  company: \"\",\n  email: \"\",\n  firstName: \"\",\n  lastName: \"\",\n  passwordOne: \"\",\n  passwordTwo: \"\",\n  officeLocation: \"\",\n  licenseNumber: \"\",\n  phonenumber: \"\",\n  favHouses: [],\n  listingHouse: [],\n  avatar: \"\",\n  isAdmin: false,\n  isClient: \"true\",\n  isAgent: \"false\",\n  error: null\n};\n\nvar SignUpFormBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpFormBase, _Component);\n\n  function SignUpFormBase(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpFormBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpFormBase).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          weburl = _this$state.weburl,\n          aboutme = _this$state.aboutme,\n          payment = _this$state.payment,\n          company = _this$state.company,\n          email = _this$state.email,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          passwordOne = _this$state.passwordOne,\n          officeLocation = _this$state.officeLocation,\n          licenseNumber = _this$state.licenseNumber,\n          phonenumber = _this$state.phonenumber,\n          isAdmin = _this$state.isAdmin,\n          isClient = _this$state.isClient,\n          isAgent = _this$state.isAgent,\n          avatar = _this$state.avatar;\n      var roles = [];\n\n      if (isAdmin) {\n        roles.push(ROLES.ADMIN);\n      } else if (isAgent) {\n        roles.push(ROLES.AGENT);\n      } else if (isClient) {\n        roles.push(ROLES.CLIENT);\n      }\n\n      _this.props.firebase.doCreateUserWithEmailAndPassword(_this.state.email, _this.state.passwordOne).then(function (authUser) {\n        // Create a user in Firebase realtime database\n        if (isClient === \"true\") {\n          return _this.props.firebase.user(authUser.user.uid).set({\n            //Set user properties\n            email: email,\n            firstName: firstName,\n            lastName: lastName,\n            passwordOne: passwordOne,\n            phonenumber: phonenumber,\n            isClient: isClient,\n            avatar: avatar,\n            favHouses: [\"null\"] // roles\n\n          });\n        }\n\n        if (isAgent === \"true\") {\n          return _this.props.firebase.user(authUser.user.uid).set({\n            //Set user properties\n            weburl: weburl,\n            aboutme: aboutme,\n            payment: payment,\n            company: company,\n            email: email,\n            firstName: firstName,\n            lastName: lastName,\n            passwordOne: passwordOne,\n            phonenumber: phonenumber,\n            officeLocation: officeLocation,\n            licenseNumber: licenseNumber,\n            listingHouse: [\"null\"],\n            avatar: avatar,\n            isAgent: isAgent // roles\n\n          });\n        }\n      }).then(function () {\n        //Reset INITIAL_STATE and rerout to home after completed register\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        if (isAgent === \"true\") {\n          _this.props.history.push(ROUTES.SIGN_IN);\n        } else {\n          _this.props.history.push(ROUTES.SIGN_IN);\n        }\n      }).then(function () {\n        //send email verification\n        return _this.props.firebase.doSendEmailVerification();\n      }).catch(function (error) {\n        //Check if the new Sign Up email had been use for google social Sign In\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onAgentSubmit = function (event) {\n      _this.setState({\n        isAgent: \"true\",\n        isClient: \"false\"\n      });\n    };\n\n    _this.onClientSubmit = function (event) {\n      _this.setState({\n        isAgent: \"false\",\n        isClient: \"true\"\n      });\n    };\n\n    _this.oncChangeCheckbox = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.checked));\n    };\n\n    _this.onClick = function () {\n      _this.props.history.push(ROUTES.SIGN_IN);\n    };\n\n    _this.handleUploadStart = function () {\n      return _this.setState({\n        isUploading: true,\n        progress: 0\n      });\n    };\n\n    _this.handleProgress = function (progress) {\n      return _this.setState({\n        progress: progress\n      });\n    };\n\n    _this.handleUploadError = function (error) {\n      _this.setState({\n        isUploading: false\n      });\n\n      console.error(error);\n    };\n\n    _this.handleUploadSuccess = function (filename) {\n      _this.setState({\n        avatarFile: filename,\n        progress: 100,\n        isUploading: false\n      });\n\n      firebase.storage().ref(\"images\").child(filename).getDownloadURL().then(function (url) {\n        return _this.setState({\n          avatar: url\n        });\n      });\n    };\n\n    console.log(_this.props.firebase);\n    _this.state = _objectSpread({}, INITIAL_STATE, {\n      avatarFile: \"\",\n      isUploading: false,\n      progress: 0,\n      avatar: \"\"\n    });\n    return _this;\n  }\n\n  _createClass(SignUpFormBase, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          avatar = _this$state2.avatar,\n          email = _this$state2.email,\n          firstName = _this$state2.firstName,\n          lastName = _this$state2.lastName,\n          passwordOne = _this$state2.passwordOne,\n          passwordTwo = _this$state2.passwordTwo,\n          officeLocation = _this$state2.officeLocation,\n          licenseNumber = _this$state2.licenseNumber,\n          phonenumber = _this$state2.phonenumber,\n          weburl = _this$state2.weburl,\n          aboutme = _this$state2.aboutme,\n          payment = _this$state2.payment,\n          company = _this$state2.company,\n          isClient = _this$state2.isClient,\n          isAgent = _this$state2.isAgent,\n          error = _this$state2.error; // Verify input from client\n\n      var isInvalidClient = passwordOne !== passwordTwo || passwordOne === \"\" || email === \"\" || firstName === \"\" || lastName === \"\" || phonenumber === \"\"; // Verify input from agent\n\n      var isInvalidAgent = passwordOne !== passwordTwo || passwordOne === \"\" || email === \"\" || firstName === \"\" || lastName === \"\" || phonenumber === \"\" || officeLocation === \"\" || licenseNumber === \"\" || aboutme === \"\" || company === \"\";\n      return React.createElement(\"div\", {\n        className: \"container signUpForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-3 register-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Image, {\n        className: \"imageSJSU\",\n        src: \"https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/SJSU_Seal.svg/1200px-SJSU_Seal.svg.png\",\n        alt: \"SJSU Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"Don't Have An Account!!\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Quickly Sign Up and get a lot of great deal!\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"OR\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), \"Login To Your Account\"), React.createElement(Link, {\n        to: ROUTES.SIGN_IN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"button btn_login\",\n        type: \"submit\",\n        name: \"\",\n        value: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-lg-9 register-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"register-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"Sign Up Form\")), React.createElement(\"div\", {\n        className: \"row register-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"UpAvatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(Image, {\n        name: \"avatar\",\n        src: this.state.progress !== 100 ? \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png\" : // \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png\"\n        // {this.state.isUploading && <p>Progress: {this.state.progress}</p>}\n        this.state.avatar,\n        onChange: this.onChange,\n        roundedCircle: true,\n        width: \"100px\",\n        height: \"100px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"CameraXXX\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faCamera,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }), React.createElement(FileUploader, {\n        hidden: true,\n        randomizeFilename: true,\n        accept: \"image/*\",\n        storageRef: this.props.firebase.storageRef(),\n        onUploadStart: this.handleUploadStart,\n        onUploadError: this.handleUploadError,\n        onUploadSuccess: this.handleUploadSuccess,\n        onProgress: this.handleProgress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"role\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btbRole\",\n        variant: \"secondary\",\n        as: \"input\",\n        type: \"button\",\n        value: \"Client\",\n        onClick: this.onClientSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"btbRole\",\n        variant: \"secondary\",\n        as: \"input\",\n        type: \"submit\",\n        value: \"Agent\",\n        onClick: this.onAgentSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"firstName\",\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"First Name *\",\n        value: firstName,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"lastName\",\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Last Name *\",\n        value: lastName,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"3\",\n        name: \"aboutme\",\n        className: \"form-control\",\n        placeholder: \"About yourself *\",\n        value: aboutme,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        className: \"form-control\",\n        value: email,\n        onChange: this.onChange,\n        placeholder: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"passwordOne\",\n        className: \"form-control\",\n        value: passwordOne,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"passwordTwo\",\n        className: \"form-control\",\n        value: passwordTwo,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"phonenumber\",\n        type: \"tel\",\n        className: \"form-control\",\n        value: phonenumber,\n        onChange: this.onChange,\n        placeholder: \"Phone Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"officeLocation\",\n        className: \"form-control\",\n        placeholder: \"Office Location *\",\n        value: officeLocation,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"licenseNumber\",\n        className: \"form-control\",\n        placeholder: \"License Number *\",\n        value: licenseNumber,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"weburl\",\n        className: \"form-control\",\n        placeholder: \"Your webpage *\",\n        value: weburl,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"company\",\n        className: \"form-control\",\n        placeholder: \"Your Company *\",\n        value: company,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: this.state.isAgent === \"true\" ? \"form-group viisible\" : \"form-group iinvisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"payment\",\n        className: \"form-control\",\n        placeholder: \"Your Payment *\",\n        value: payment,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: this.state.isClient === \"true\" ? isInvalidClient : isInvalidAgent,\n        className: \"btnRegister\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, \"Sign Up\"), error ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531\n        },\n        __self: this\n      }, error.message) : null)))));\n    }\n  }]);\n\n  return SignUpFormBase;\n}(Component);\n\nvar SignUpLink = function SignUpLink() {\n  return React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542\n    },\n    __self: this\n  }, \"Don 't have an account? \", React.createElement(Link, {\n    to: ROUTES.SIGN_UP,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543\n    },\n    __self: this\n  }, \"Sign Up\"));\n};\n\nvar SignUpForm = compose(withRouter, withFirebase)(SignUpFormBase);\nexport { SignUpForm, SignUpLink };","map":{"version":3,"sources":["C:\\Users\\nguye\\Downloads\\New folder\\src\\components\\SignUp\\SignUpForm.js"],"names":["React","Component","Link","withRouter","compose","FontAwesomeIcon","withFirebase","FileUploader","CustomUploadButton","firebase","ROUTES","ROLES","Image","Form","Button","ImageUploader","faCamera","authUser","JSON","parse","localStorage","getItem","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","INITIAL_STATE","weburl","aboutme","payment","company","email","firstName","lastName","passwordOne","passwordTwo","officeLocation","licenseNumber","phonenumber","favHouses","listingHouse","avatar","isAdmin","isClient","isAgent","error","SignUpFormBase","props","onSubmit","event","state","roles","push","ADMIN","AGENT","CLIENT","doCreateUserWithEmailAndPassword","then","user","uid","set","setState","history","SIGN_IN","doSendEmailVerification","catch","code","message","preventDefault","onChange","target","name","value","onAgentSubmit","onClientSubmit","oncChangeCheckbox","checked","onClick","handleUploadStart","isUploading","progress","handleProgress","handleUploadError","console","handleUploadSuccess","filename","avatarFile","storage","ref","child","getDownloadURL","url","log","isInvalidClient","isInvalidAgent","storageRef","SignUpLink","SIGN_UP","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { compose } from \"recompose\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { withFirebase } from \"../../server/Firebase\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport CustomUploadButton from 'react-firebase-file-uploader/lib/CustomUploadButton';\r\n\r\nimport firebase from \"firebase\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport * as ROLES from \"../../constants/roles\";\r\nimport \"./signup.css\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport {\r\n  faCamera\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n\r\nconst authUser = JSON.parse(localStorage.getItem(\"authUser\"));\r\n\r\nconst ERROR_CODE_ACCOUNT_EXISTS = \"auth/email-already-in-use\";\r\nconst ERROR_MSG_ACCOUNT_EXISTS = `\r\nAn account with this E-Mail address already exists.\r\nTry to login with this account instead. If you think the\r\naccount is already used from one of the social logins, try\r\nto sign-in with one of them. Afterward, associate your accounts\r\non your personal account page.\r\n`;\r\n\r\n// Use to reset sign up form\r\nconst INITIAL_STATE = {\r\n  weburl:\"\",\r\n  aboutme:\"\",\r\n  payment:\"\",\r\n  company:\"\",\r\n  email: \"\",\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  passwordOne: \"\",\r\n  passwordTwo: \"\",\r\n  officeLocation: \"\",\r\n  licenseNumber: \"\",\r\n  phonenumber: \"\",\r\n  favHouses: [],\r\n  listingHouse: [],\r\n  avatar: \"\",\r\n  isAdmin: false,\r\n  isClient: \"true\",\r\n  isAgent: \"false\",\r\n  error: null\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(this.props.firebase);\r\n\r\n    this.state = {\r\n      ...INITIAL_STATE,\r\n      avatarFile: \"\",\r\n      isUploading: false,\r\n      progress: 0,\r\n      avatar: \"\"\r\n    };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const {\r\n      weburl,\r\n  aboutme,\r\n  payment,\r\n  company,\r\n      email,\r\n      firstName,\r\n      lastName,\r\n      passwordOne,\r\n      officeLocation,\r\n      licenseNumber,\r\n      phonenumber,\r\n      isAdmin,\r\n      isClient,\r\n      isAgent,\r\n      avatar\r\n    } = this.state;\r\n\r\n    const roles = [];\r\n    if (isAdmin) {\r\n      roles.push(ROLES.ADMIN);\r\n    } else if (isAgent) {\r\n      roles.push(ROLES.AGENT);\r\n    } else if (isClient) {\r\n      roles.push(ROLES.CLIENT);\r\n    }\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(\r\n        this.state.email,\r\n        this.state.passwordOne\r\n      )\r\n      .then(authUser => {\r\n        // Create a user in Firebase realtime database\r\n\r\n        if (isClient === \"true\") {\r\n          return this.props.firebase.user(authUser.user.uid).set({\r\n            //Set user properties\r\n\r\n            email,\r\n            firstName,\r\n            lastName,\r\n            passwordOne,\r\n            phonenumber,\r\n            isClient,\r\n            avatar,\r\n            favHouses: [\"null\"]\r\n\r\n            // roles\r\n          });\r\n        }\r\n        if (isAgent === \"true\") {\r\n          return this.props.firebase.user(authUser.user.uid).set({\r\n            //Set user properties\r\n            weburl,\r\n            aboutme,\r\n            payment,\r\n            company,\r\n            email,\r\n            firstName,\r\n            lastName,\r\n            passwordOne,\r\n            phonenumber,\r\n            officeLocation,\r\n            licenseNumber,\r\n            listingHouse: [\"null\"],\r\n            avatar,\r\n            isAgent\r\n            // roles\r\n          });\r\n        }\r\n      })\r\n      .then(() => {\r\n        //Reset INITIAL_STATE and rerout to home after completed register\r\n        this.setState({\r\n          ...INITIAL_STATE\r\n        });\r\n        if(isAgent === \"true\"){\r\n          this.props.history.push(ROUTES.SIGN_IN);\r\n        }\r\n        else{\r\n          this.props.history.push(ROUTES.SIGN_IN)\r\n        }\r\n      })\r\n      .then(() => {\r\n        //send email verification\r\n        return this.props.firebase.doSendEmailVerification();\r\n      })\r\n\r\n      .catch(error => {\r\n        //Check if the new Sign Up email had been use for google social Sign In\r\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\r\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\r\n        }\r\n        \r\n\r\n        this.setState({\r\n          error\r\n        });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  //Get input from user\r\n  onChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  onAgentSubmit = event => {\r\n    this.setState({\r\n      isAgent: \"true\",\r\n      isClient: \"false\"\r\n    });\r\n  };\r\n  onClientSubmit = event => {\r\n    this.setState({\r\n      isAgent: \"false\",\r\n      isClient: \"true\"\r\n    });\r\n  };\r\n  oncChangeCheckbox = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.checked\r\n    });\r\n  };\r\n\r\n \r\n  onClick = () => {\r\n    this.props.history.push(ROUTES.SIGN_IN);\r\n  };\r\n\r\n// Test\r\nhandleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\nhandleProgress = progress => this.setState({ progress });\r\nhandleUploadError = error => {\r\n  this.setState({ isUploading: false });\r\n  console.error(error);\r\n};\r\nhandleUploadSuccess = filename => {\r\n  this.setState({ avatarFile: filename, progress: 100, isUploading: false });\r\n  firebase\r\n    .storage()\r\n    .ref(\"images\")\r\n    .child(filename)\r\n    .getDownloadURL()\r\n    .then(url => this.setState({ avatar: url }));\r\n    \r\n};\r\n\r\n\r\n\r\n  render() {\r\n    const {\r\n      avatar,\r\n      email,\r\n      firstName,\r\n      lastName,\r\n      passwordOne,\r\n      passwordTwo,\r\n      officeLocation,\r\n      licenseNumber,\r\n      phonenumber,\r\n      weburl,\r\n      aboutme,\r\n      payment,\r\n      company,\r\n      // isAdmin,\r\n      isClient,\r\n      isAgent,\r\n      error\r\n    } = this.state;\r\n\r\n    // Verify input from client\r\n    const isInvalidClient =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === \"\" ||\r\n      email === \"\" ||\r\n      firstName === \"\" ||\r\n      lastName === \"\" ||\r\n      phonenumber === \"\";\r\n\r\n    // Verify input from agent\r\n    const isInvalidAgent =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === \"\" ||\r\n      email === \"\" ||\r\n      firstName === \"\" ||\r\n      lastName === \"\" ||\r\n      phonenumber === \"\" ||\r\n      officeLocation === \"\" ||\r\n      licenseNumber === \"\"||\r\n      aboutme===\"\" ||\r\n      company===\"\";\r\n\r\n  \r\n    return (\r\n      <div className=\"container signUpForm\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-lg-3 register-left\">\r\n            <Image\r\n              className=\"imageSJSU\"\r\n              src=\"https://upload.wikimedia.org/wikipedia/en/thumb/d/d3/SJSU_Seal.svg/1200px-SJSU_Seal.svg.png\"\r\n              alt=\"SJSU Logo\"\r\n            />\r\n            <h3>Don't Have An Account!!</h3>\r\n            <p>Quickly Sign Up and get a lot of great deal!</p>\r\n            <p>\r\n              OR\r\n              <br />\r\n              Login To Your Account\r\n            </p>\r\n            <Link to={ROUTES.SIGN_IN}>\r\n              <input\r\n                className=\"button btn_login\"\r\n                type=\"submit\"\r\n                name=\"\"\r\n                value=\"Login\"\r\n              />\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"col-lg-9 register-right\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <div>\r\n                <h1 className=\"register-heading\">Sign Up Form</h1>\r\n              </div>\r\n\r\n              <div className=\"row register-form\">\r\n                <div className=\"col-md-12\">\r\n                <div className=\"UpAvatar\">\r\n                <Image\r\n                    name=\"avatar\"\r\n                    src={\r\n                        this.state.progress!==100 ? \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png\" :\r\n                      // \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png\"\r\n                      // {this.state.isUploading && <p>Progress: {this.state.progress}</p>}\r\n                      this.state.avatar\r\n                    \r\n                    }\r\n                    onChange={this.onChange}\r\n                    \r\n                    roundedCircle\r\n                    width=\"100px\"\r\n                    height=\"100px\"\r\n                  />\r\n                  <div id=\"CameraXXX\">\r\n                  <label \r\n              //  style={{backgroundColor: 'steelblue', color: 'white', padding: 10, borderRadius: 4, pointer: 'cursor'}}\r\n               >\r\n    <FontAwesomeIcon icon={faCamera}></FontAwesomeIcon>\r\n    <FileUploader\r\n      hidden\r\n      randomizeFilename\r\n      accept=\"image/*\"\r\n      storageRef={this.props.firebase.storageRef()}\r\n      onUploadStart={this.handleUploadStart}\r\n      onUploadError={this.handleUploadError}\r\n      onUploadSuccess={this.handleUploadSuccess}\r\n      onProgress={this.handleProgress}\r\n    />\r\n  </label>\r\n                  </div>\r\n               \r\n\r\n\r\n\r\n                </div>\r\n                \r\n                  \r\n                  <div className=\"role\">\r\n                    <Button\r\n                      className=\"btbRole\"\r\n                      variant=\"secondary\"\r\n                      as=\"input\"\r\n                      type=\"button\"\r\n                      value=\"Client\"\r\n                      onClick={this.onClientSubmit}\r\n                    />\r\n                    <Button\r\n                      className=\"btbRole\"\r\n                      variant=\"secondary\"\r\n                      as=\"input\"\r\n                      type=\"submit\"\r\n                      value=\"Agent\"\r\n                      onClick={this.onAgentSubmit}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      name=\"firstName\"\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"First Name *\"\r\n                      value={firstName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      name=\"lastName\"\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Last Name *\"\r\n                      value={lastName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                  \r\n                  <Form.Control as=\"textarea\" rows=\"3\" name=\"aboutme\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"About yourself *\"\r\n                      value={aboutme}\r\n                      onChange={this.onChange}/>\r\n                    \r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      className=\"form-control\"\r\n                      value={email}\r\n                      onChange={this.onChange}\r\n                      placeholder=\"Email Address\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      name=\"passwordOne\"\r\n                      className=\"form-control\"\r\n                      value={passwordOne}\r\n                      onChange={this.onChange}\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      name=\"passwordTwo\"\r\n                      className=\"form-control\"\r\n                      value={passwordTwo}\r\n                      onChange={this.onChange}\r\n                      type=\"password\"\r\n                      placeholder=\"Confirm Password\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group \">\r\n                    <input\r\n                      name=\"phonenumber\"\r\n                      type=\"tel\"\r\n                      className=\"form-control\"\r\n                      value={phonenumber}\r\n                      onChange={this.onChange}\r\n                      placeholder=\"Phone Number\"\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"officeLocation\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Office Location *\"\r\n                      value={officeLocation}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"licenseNumber\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"License Number *\"\r\n                      value={licenseNumber}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"weburl\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Your webpage *\"\r\n                      value={weburl}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"company\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Your Company *\"\r\n                      value={company}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      this.state.isAgent === \"true\"\r\n                        ? \"form-group viisible\"\r\n                        : \"form-group iinvisible\"\r\n                    }\r\n                  >\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"payment\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Your Payment *\"\r\n                      value={payment}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                 \r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button\r\n                  disabled={\r\n                    this.state.isClient===\"true\" ? isInvalidClient : isInvalidAgent\r\n                  }\r\n                  className=\"btnRegister\"\r\n                  type=\"submit\"\r\n                >\r\n                  Sign Up\r\n                </button>\r\n\r\n                {error ? (<p>{error.message}</p>) : null}\r\n              </div>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <p>\r\n    Don 't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n  </p>\r\n);\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase\r\n)(SignUpFormBase);\r\n\r\nexport { SignUpForm, SignUpLink };\r\n"]},"metadata":{},"sourceType":"module"}