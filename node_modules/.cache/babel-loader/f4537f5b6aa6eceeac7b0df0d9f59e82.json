{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\src\\\\components\\\\House\\\\HouseItemPage.js\";\nimport React, { Component } from \"react\";\nimport { withFirebase } from '../../server/Firebase/index';\nimport * as ROUTES from '../../constants/routes';\nimport { Alert } from 'reactstrap'; //TODO: Dynamic update house state, currently the state is not change\n\nvar HouseItemPageBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HouseItemPageBase, _Component);\n\n  function HouseItemPageBase(props) {\n    var _this;\n\n    _classCallCheck(this, HouseItemPageBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HouseItemPageBase).call(this, props));\n\n    _this.onRemoveHouse = function (event) {\n      _this.props.firebase.house(_this.state.house.uid).remove().then(function () {\n        _this.setState({\n          house: null\n        });\n\n        _this.props.history.push(ROUTES.HOUSE);\n      });\n    };\n\n    _this.state = _objectSpread({\n      house: null,\n      isLoading: false\n    }, props.location.state);\n    return _this;\n  }\n\n  _createClass(HouseItemPageBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.house) {\n        return;\n      }\n\n      this.setState({\n        isLoading: true\n      });\n      this.props.firebase.house(this.props.match.params.id).on(\"value\", function (snapshot) {\n        _this2.setState({\n          house: snapshot.val(),\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.firebase.house(this.props.match.params.id).off();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          house = _this$state.house,\n          isLoading = _this$state.isLoading;\n      console.log(house);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"House (\", this.props.match.params.id, \")\"), isLoading && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Loading ...\"), house && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"House ID:\"), \" \", house.uid), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Adress:\"), \" \", house.address), React.createElement(Alert, {\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onRemoveHouse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"The selected house will be deleted!\"))));\n    }\n  }]);\n\n  return HouseItemPageBase;\n}(Component);\n\nvar HouseItemPage = withFirebase(HouseItemPageBase);\nexport default HouseItemPage;","map":{"version":3,"sources":["C:\\Users\\nguye\\Downloads\\New folder\\src\\components\\House\\HouseItemPage.js"],"names":["React","Component","withFirebase","ROUTES","Alert","HouseItemPageBase","props","onRemoveHouse","event","firebase","house","state","uid","remove","then","setState","history","push","HOUSE","isLoading","location","match","params","id","on","snapshot","val","off","console","log","address","HouseItemPage"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,SAAQC,YAAR,QAA2B,6BAA3B;AAEA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;AACA,SAAQC,KAAR,QAAoB,YAApB,C,CACA;;IACMC,iB;;;;;AACL,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,2FAAMA,KAAN;;AADkB,UAUnBC,aAVmB,GAUH,UAAAC,KAAK,EAAI;AACxB,YAAKF,KAAL,CAAWG,QAAX,CACEC,KADF,CACQ,MAAKC,KAAL,CAAWD,KAAX,CAAiBE,GADzB,EAEEC,MAFF,GAGEC,IAHF,CAGO,YAAM;AACX,cAAKC,QAAL,CAAc;AAACL,UAAAA,KAAK,EAAE;AAAR,SAAd;;AACA,cAAKJ,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwBd,MAAM,CAACe,KAA/B;AACA,OANF;AAOA,KAlBkB;;AAGlB,UAAKP,KAAL;AACCD,MAAAA,KAAK,EAAE,IADR;AAECS,MAAAA,SAAS,EAAE;AAFZ,OAGIb,KAAK,CAACc,QAAN,CAAeT,KAHnB;AAHkB;AAQlB;;;;wCAYmB;AAAA;;AACnB,UAAI,KAAKA,KAAL,CAAWD,KAAf,EAAsB;AACrB;AACA;;AACD,WAAKK,QAAL,CAAc;AAACI,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACA,WAAKb,KAAL,CAAWG,QAAX,CACEC,KADF,CACQ,KAAKJ,KAAL,CAAWe,KAAX,CAAiBC,MAAjB,CAAwBC,EADhC,EAEEC,EAFF,CAEK,OAFL,EAEc,UAAAC,QAAQ,EAAI;AACxB,QAAA,MAAI,CAACV,QAAL,CAAc;AACbL,UAAAA,KAAK,EAAEe,QAAQ,CAACC,GAAT,EADM;AAEbP,UAAAA,SAAS,EAAE;AAFE,SAAd;AAIA,OAPF;AAQA;;;2CAEsB;AACtB,WAAKb,KAAL,CAAWG,QAAX,CAAoBC,KAApB,CAA0B,KAAKJ,KAAL,CAAWe,KAAX,CAAiBC,MAAjB,CAAwBC,EAAlD,EAAsDI,GAAtD;AACA;;;6BAEQ;AAAA,wBACmB,KAAKhB,KADxB;AAAA,UACDD,KADC,eACDA,KADC;AAAA,UACMS,SADN,eACMA,SADN;AAERS,MAAAA,OAAO,CAACC,GAAR,CAAYnB,KAAZ;AACA,aACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAY,KAAKJ,KAAL,CAAWe,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC,MADD,EAEEJ,SAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFf,EAIMT,KAAK,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,OAC4BA,KAAK,CAACE,GADlC,CADA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,OAC0BF,KAAK,CAACoB,OADhC,CAJA,EAYC,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,QADP;AAEI,QAAA,OAAO,EAAE,KAAKvB,aAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADF,CAZD,CALP,CADD;AA+BC;;;;EA1E6BN,S;;AA4EhC,IAAM8B,aAAa,GAAG7B,YAAY,CAACG,iBAAD,CAAlC;AAEA,eAAe0B,aAAf","sourcesContent":["import React, {Component} from \"react\";\n\nimport {withFirebase} from '../../server/Firebase/index';\n\nimport * as ROUTES from '../../constants/routes';\nimport {Alert} from 'reactstrap';\n//TODO: Dynamic update house state, currently the state is not change\nclass HouseItemPageBase extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thouse: null,\n\t\t\tisLoading: false,\n\t\t\t...props.location.state\n\t\t};\n\t}\n\n\tonRemoveHouse = event => {\n\t\tthis.props.firebase\n\t\t\t.house(this.state.house.uid)\n\t\t\t.remove()\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({house: null});\n\t\t\t\tthis.props.history.push(ROUTES.HOUSE);\n\t\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.state.house) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({isLoading: true});\n\t\tthis.props.firebase\n\t\t\t.house(this.props.match.params.id)\n\t\t\t.on(\"value\", snapshot => {\n\t\t\t\tthis.setState({\n\t\t\t\t\thouse: snapshot.val(),\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.firebase.house(this.props.match.params.id).off();\n\t}\n\n\trender() {\n\t\tconst {house, isLoading} = this.state;\n\t\tconsole.log(house);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>House ({this.props.match.params.id})</h2>\n\t\t\t\t{isLoading && <div>Loading ...</div>}\n\n        {house && (\n          <div>\n          <span>\n          <strong>House ID:</strong> {house.uid}\n          </span>\n          <span>\n          <strong>Adress:</strong> {house.address}\n          </span>\n\n\t\t\t\t\t\t{/*\n          TODO: pop up or some type of alert to user to remind\n          that house that get delete can not be recover\n           */}\n           <Alert color=\"warning\">\n             <button\n               type=\"button\"\n                 onClick={this.onRemoveHouse}>\n                   The selected house will be deleted!\n                 </button>\n           </Alert>\n\n          </div>\n\n        )}\n      </div>\n    );\n  }\n}\nconst HouseItemPage = withFirebase(HouseItemPageBase);\n\nexport default HouseItemPage;\n"]},"metadata":{},"sourceType":"module"}